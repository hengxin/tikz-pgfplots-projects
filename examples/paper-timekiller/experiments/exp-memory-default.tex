\documentclass{standalone}
\input{../newcommands}

\input{pgfplotsset}

\begin{document}
	\begin{tikzpicture}[]
		\begin{axis}[
			xlabel={Time (s)},
			ylabel={Memory (MB)},
			ymax=1500,
			ymin=0,
			cycle multiindex* list={
				color       \nextlist
				mark list*  \nextlist
			}]
			\addplot[color=red] table [x=param, y=gc10k, col sep=comma] {./data/mem-default-gc10k.csv};
			\addplot[color=black] table [x=param, y=gc20k, col sep=comma] {./data/mem-default-gc20k.csv};
			\addplot[color=brown] table [x=param, y=gc50k, col sep=comma] {./data/mem-default-gc50k.csv};
			\addplot[color=blue] table [x=param, y=fast, col sep=comma] {./data/mem-default-fast.csv};
			\legend{gc-10k,gc-20k,gc-50k,gc-$\infty$}
		\end{axis}
	\end{tikzpicture}
\end{document}