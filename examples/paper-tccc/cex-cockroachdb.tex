% cex-cockroachdb.tex

\documentclass{standalone}
\input{newcommands}

\usepackage{tikz}
\usetikzlibrary{shapes, shapes.misc, positioning,
  arrows.meta, decorations.pathmorphing, fit}

\begin{document}
\begin{tikzpicture}
  \tikzset{
    so/.style = {->, thick},
    wr/.style = {->, thick},
    sowr/.style = {->, thick},
    co/.style = {->, thick},
    txn/.style = {rectangle, draw, inner sep = 2pt},
  }

  % \node[txn, label = left : $t$] (t) {$\cdots$};
  % \draw[co] (t) [out = 30, in = 150, looseness = 5]
  %   to node[above] {$\CO$} (t);

  % t0
  \node[txn, label = above : $t_0$]
	  (t0) {$\writeevent(8, 1) \quad \readevent(4, 48)$};
  % t16
  \node[txn, left = 2.00cm of t0, label = above : $t_{16}$]
	  (t16) {$\writeevent(4, 48) \quad \writeevent(8, 51)$};

  % t16 -wr- t0
  \draw[wr] (t16) to node[above]{$\WR(4)$} (t0);
  % t0 -co- t16
  \draw[co, bend left = 45] (t0) to node[above]{$\CO$} (t16);
\end{tikzpicture}
\end{document}