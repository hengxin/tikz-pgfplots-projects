%Galera_counter_example_recovery.tex




\documentclass{standalone}
\input{newcommands}

\usepackage{tikz}
\usetikzlibrary{shapes, positioning, arrows.meta, decorations.pathmorphing}

\begin{document}

    \begin{tikzpicture}[model/.style = {draw, minimum size = 15pt},  node distance = 0.5cm and 1.5cm]
        \node[model] (15) at (6,2) {$\R$(0,4), $\W$(0,5)};
        \node (textof15) at (6,2.5) {$\T$:(1,5)};
        \node[model] (213) at (0,0) {$\R$(0,4), $\W$(0,13)};
        \node (textof213) at (0,-0.5) {$\T$:(2,13)};
        %\node[model] (14) at (6,0) {Read(0,5)};
        %\node (textof14) at (6,-0.5) {Txn:(1,4)};
        \node[model] (14) at (0,2) {$\W$(0,4)};
        \node (textof14) at (0,2.5) {$\T$:(1,4)};
        
        \path[dashed, -latex, color=red] (15.south) edge node[above] {$\RW$} (213.east); 
        \path[dashed, -latex, color=blue] ([xshift=5ex]213.north) edge node[below] {$\RW$} ([yshift=-1ex]15.west); 
        \path[dashed, -latex, color=blue] ([yshift=-1ex]15.west) edge [out=180,in=90] node[below] {$\WW$} ([xshift=5ex]213.north);
        \path[dashed, -latex, color=red] (213.east) edge [out=0,in=-90] node[above] {$\WW$} (15.south);
        %\path[dashed, -latex,color=red] (14.west) edge node[below] {rw} (28.east); 
        \path[-latex] ([yshift=-1ex]14.east) edge node[above] {$\WR$} ([yshift=-1ex]15.west);
        \path[dashed, -latex, color=red] ([yshift=2ex]14.east) edge node[above] {$\WW$} ([yshift=2ex]15.west);
        \path[-latex] (14.south) edge node[right] {$\WR$} (213.north);
        \path[dashed, -latex,color=blue] ([xshift=-2ex]14.south) edge node[left] {$\WW$} ([xshift=-2ex]213.north);
        %\path[-latex] ([xshift=0.5ex]13.south) edge node[left] {wr} (14.north);
    \end{tikzpicture}



\end{document}