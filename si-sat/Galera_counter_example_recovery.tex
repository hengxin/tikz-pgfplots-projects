% Galera_counter_example_recovery.tex

\documentclass{standalone}
\input{newcommands}

\usepackage{tikz}
\usetikzlibrary{shapes, positioning, arrows.meta, decorations.pathmorphing}

\begin{document}
  \begin{tikzpicture}[model/.style = {draw, minimum size = 15pt},
    node distance = 1.0cm and 1.5cm]
    \node[model, label = above : {$\T: (1, 5)$}] (15) {$\readevent(0,4) \;\; \writeevent(0,5)$};
    \node[model, left = of 15, label = above : {$\T: (1, 4)$}] (14) {$\W$(0,4)};
    \node[model, below = of 14, label = below : {$\T: (2, 13)$}] (213) {$\readevent(0,4) \;\; \writeevent(0,13)$};

    \draw[->, thick] (14.-10) to node[below] {$\WR$} (14.-10 -| 15.west);
    \draw[dashed, ->, thick, color=red] (14.10) to node[above] {$\WW$} (14.10 -| 15.west);

    \draw[dashed, ->, thick, red, sloped] (15.195) to node[]{$\WW$} (213.10);
    \draw[dashed, ->, thick, red, bend right = 45, sloped] (213.-15) to node[above] {$\RW$} (15.230);
    \draw[dashed, ->, thick, blue, sloped] (213.-10) to node[]{$\WW$} (15.205);
    \draw[dashed, ->, thick, blue, bend right, sloped] (15.190) to node[below]{$\RW$} (213.20);

    \draw[->, thick] (14.-45) to node[right] {$\WR$} (14.-45 |- 213.north);
    \draw[dashed, ->, thick, color=blue] (14.225) to node[left] {$\WW$} (14.225 |- 213.north);
  \end{tikzpicture}
\end{document}